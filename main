#include <iostream>
using namespace std;

void printBoard(char grid[3][3]) {
    for (int i = 0; i < 3; i++) {
        for (int j = 0; j < 3; j++) {
            cout << grid[i][j] << " ";
        }
        cout << endl;
    }
}

bool isWinner(char grid[3][3]) {
	for (int i = 0; i < 3; i++) {
        if (grid[i][0] == grid[i][1] && grid[i][1] == grid[i][2]) return true;
        if (grid[0][i] == grid[1][i] && grid[1][i] == grid[2][i]) return true;
    }
    if (grid[0][0] == grid[1][1] && grid[1][1] == grid[2][2]) return true;
    if (grid[0][2] == grid[1][1] && grid[1][1] == grid[2][0]) return true;
    return false;
}

int main() {
    int p1, p2,counter=0;
    char grid[3][3] = {{'1', '2', '3'}, {'4', '5', '6'}, {'7', '8', '9'}};
    do {
    	if (counter%2==0){
		
	        printBoard(grid);
	        cout << "Player 1 make a move  ";
	        cin >> p1;
	        if (p1 < 1 or p1 > 9 or grid[(p1-1)/3][(p1-1)%3] == 'X' or grid[(p1-1)/3][(p1-1)%3] == 'O') {
	            cout << "Spot Taken. Try again." << endl;
	        }
	        else
	        	grid[(p1-1)/3][(p1-1)%3] = 'X';
	        	counter++;
    	}
	    else{
			printBoard(grid);
	    	cout << "Player 2 make a move : ";
	        cin >> p2;
	        if (p2 < 1 or p2 > 9 or grid[(p2-1)/3][(p2-1)%3] == 'X' or grid[(p2-1)/3][(p2-1)%3] == 'O') {
	            cout << "Spot Taken. Try again." << endl;
	        }
	        else
	        	grid[(p2-1)/3][(p2-1)%3] = 'O';
	        	counter++;
	    }
    } while (isWinner(grid)==false && counter < 9);
    counter--;
    if (isWinner(grid)==true){
	    if (counter%2==0)
	    	cout << "X is the winner!";
	    else 
	    	cout << "O is the winner!";
	}
	else 
		cout << "the game is a tie";
    return 0;
}

